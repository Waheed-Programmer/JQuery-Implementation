<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jquery Learning </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <br>
        <h1>Simple jquery progress bar</h1>
        <select id="idselect">
            <option selected value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="40">40</option>
            <option value="50">50</option>
            <option value="60">60</option>
            <option value="70">70</option>
            <option value="80">80</option>
            <option value="90">90</option>
            <option value="100">100</option>
        </select><br><br>
        <div id="outerid" style="background-color:#EEEE; height:40px; width:500px; padding:5px">
            <div id="innerId" style="background-color:blue; height:29px; width:0px; padding:5px; color:white;text-align: center;">
            </div>
        </div>
        <button class="btn btn-primary mt-4" id="btn">Click Me</button>
      </div>  
</body>
</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>   
        $(document).ready(function(){

            var pre = 0;
            var current = 0;
            
                $('#btn').click(function(){
                    pre = current;
                    current = $('#idselect').val();
                    prograssBar(pre,current);
                    // prograssBar($('#idselect').val())
                });  
                
                function prograssBar(pre,current){
                    $('#innerId').animate({
                        'width':(500*current/100)
                    },4000);


                    $({counter:pre}).animate({counter:current},{
                    duration:2000,
                    step: function(){
                        $('#innerId').text(Math.ceil(this.counter)+'%');
                    }
                })
                }

                
                
        })
</script>