<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jquery Learning </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container">
        <br>
        <h1>Jquery floating div</h1>
        <br><br>
        <table style="align-items: center; border: 1px solid; border-collapse: collapse;">
            <tr>
            <td style="width: 500px; vertical-align: top;">
                Example : In this example we are using position() and scrollTop() functions. The object returned by position() function has top and left properties, which can be used to know the current top and left positions (coordinates). We are using this function to find the top position of the div element that we want to keep floating as we scroll down. To get the current vertical position of the scroll bar, we are using scrollTop() function. <br><br>

                As we scroll and when the current vertical position of the scroll bar becomes GREATER THAN the top position of the div element, then we want the div element to start floating. To do this set position style to fixed. A fixed position element is positioned relative to the browser window. So as you scroll down it will be floating in the browser window <br><br>
                
                If the current vertical position of the scroll bar becomes LESS THAN the top position of the div element, then we don't want the div element to float, so we set position style to relative. A relative position element is positioned relative to itself. So if you set position to relative and top to 0, it will continue to stay where it is without floating. <br><br>
                Example : In this example we are using position() and scrollTop() functions. The object returned by position() function has top and left properties, which can be used to know the current top and left positions (coordinates). We are using this function to find the top position of the div element that we want to keep floating as we scroll down. To get the current vertical position of the scroll bar, we are using scrollTop() function. <br><br>

                As we scroll and when the current vertical position of the scroll bar becomes GREATER THAN the top position of the div element, then we want the div element to start floating. To do this set position style to fixed. A fixed position element is positioned relative to the browser window. So as you scroll down it will be floating in the browser window <br><br>
                
                If the current vertical position of the scroll bar becomes LESS THAN the top position of the div element, then we don't want the div element to float, so we set position style to relative. A relative position element is positioned relative to itself. So if you set position to relative and top to 0, it will continue to stay where it is without floating. <br><br>
            </td>
            <td style="width: 150px; vertical-align: top;">
                side panel 
                <br><br>
            <div id="divfloat" style="background-color: #eeee; width: 150px; height: 150px;">
                   Here Div float
            </div>
            
            </td>
        </tr>
        </table>
        
       
        <button class="btn btn-primary mt-4" id="btnSave">Click Me</button>
      </div>  
</body>
</html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>   
        $(document).ready(function(){
            var pos =$('#divfloat');
            var floatpos = pos.position();
            $(window).scroll(function(){
                var scrolPos = $(window).scroll(top);
                if(scrolPos >=floatpos.top){
                    pos.css({
                        'position':'fixed','top':"3px"
                        
                    });
                }                
                else{
                    pos.css({
                        'position':'relative',
                        'top':'0'
                    });
                }
            });   
        });
</script>